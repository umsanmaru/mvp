(this.webpackJsonpmvp=this.webpackJsonpmvp||[]).push([[0],{144:function(e,t,n){},157:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),a=n(52),r=n.n(a),s=(n(144),n(58)),o=n.n(s),l=n(107),u=n(13),j=n(179),d=n(180),b=n(2),f=function(e){var t,n=e.state,c=e.qNum;return n?t=n.includes("O")?"green":"red":(n=Object(b.jsx)("h4",{style:{color:"grey"},children:"\uc2dc\ub3c4 \uc548\ud568"}),t=null),Object(b.jsxs)(j.a,{textAlign:"center",style:{marginTop:"0.5vh"},children:[Object(b.jsx)(j.a.Column,{width:6,children:Object(b.jsx)(d.a,{children:Object(b.jsx)("h3",{children:"".concat(c+1)})})}),Object(b.jsx)(j.a.Column,{width:10,children:Object(b.jsx)(d.a,{color:t,children:n})})]})},h=function(e){var t=e.userInfo,n=e.gid,i=e.uid,a=e.db,r=Object(c.useState)([0,0,0,0,0]),s=Object(u.a)(r,2),o=s[0],l=s[1],h=Object(c.useState)(0),O=Object(u.a)(h,2),x=O[0],g=O[1],v=null;return Object(c.useEffect)((function(){var e=a.ref("game_list/bronze/"+n+"/scoring/"+i),t=e.on("value",(function(e){if(e.val()){var t=Object.values(e.val());l(Object.values(t))}}));return function(){e.off("value",t)}}),[n,i]),Object(c.useEffect)((function(){if(n&&i){var e=0;o.map((function(t){for(;t;){if("O"===t[0]){e+=4;break}e-=1,t=t.slice(1)}})),e<0&&(e=0),g(e),a.ref("game_list/bronze/"+n+"/score/"+i).set({total:e,timeAt:Date.now()})}}),[o]),o&&(v=o.map((function(e,t){return Object(b.jsx)(f,{state:e,qNum:t})}))),Object(b.jsxs)("div",{children:[Object(b.jsx)(d.a,{color:"grey",children:Object(b.jsxs)(j.a,{textAlign:"center",children:[Object(b.jsx)(j.a.Row,{children:Object(b.jsx)("h2",{children:t.name})}),Object(b.jsx)(j.a.Row,{children:Object(b.jsx)("h4",{children:"".concat(t.school," / ").concat(t.grade,"\ud559\ub144 / \ubaa8\uc758\uace0\uc0ac ").concat(t.rating,"\ub4f1\uae09")})})]})}),Object(b.jsxs)(d.a,{color:"grey",children:[v,Object(b.jsx)(d.a,{textAlign:"center",style:{marginTop:"3vh"},children:Object(b.jsx)("h3",{children:"\ud604\uc7ac \uc810\uc218: ".concat(x)})})]})]})},O=n(22),x=(n(158),function(){return O.a.apps.length?O.a.app():O.a.initializeApp({apiKey:"AIzaSyC3qyHC3nf9BwIJfB8BqWDLPuJZ7bcKWnw",authDomain:"mvp-db-ecbe5.firebaseapp.com",databaseURL:"https://mvp-db-ecbe5-default-rtdb.firebaseio.com",projectId:"mvp-db-ecbe5",storageBucket:"mvp-db-ecbe5.appspot.com",messagingSenderId:"57354889627",appId:"1:57354889627:web:1fb6de97d88dcfeca9d93e",measurementId:"G-FVJJG0261W"}),O.a.storage()}),g=n(175),v=n(170),p=function(e){var t=e.text;return Object(b.jsx)(g.a,{active:!0,inverted:!0,children:Object(b.jsxs)(v.a,{children:[" ",Object(b.jsx)("h3",{children:t||"\ub85c\ub529 \uc911"}),"  "]})})},m=n(173),w=n(177),y=x(),k=[null,null,null,null,null],C=function(e){var t=e.gid,n=e.uid,i=e.db,a=Object(c.useState)(null),r=Object(u.a)(a,2),s=r[0],o=r[1],l=Object(c.useState)([]),f=Object(u.a)(l,2),h=f[0],O=f[1],x=Object(c.useState)([]),g=Object(u.a)(x,2),v=g[0],C=g[1],I=Object(c.useState)(null),S=Object(u.a)(I,2),A=S[0],_=S[1],L=Object(c.useState)(null),z=Object(u.a)(L,2),T=z[0],W=z[1],E=Object(c.useState)(0),q=Object(u.a)(E,2),B=q[0],R=q[1],M=null,P=null;console.log(h);var J=function(e,t){var n=t.value;R(n)};Object(c.useEffect)((function(){s||o(h[0])}),[h]),Object(c.useEffect)((function(){var e=i.ref("game_list/bronze/"+t+"/qList"),n=e.on("value",(function(e){e.val()&&O(e.val())}));return function(){e.off("value",n)}}),[t]),Object(c.useEffect)((function(){s&&i.ref("question_info/"+s).get().then((function(e){if(e.exists()){var t=(e=e.val()).choices;C(t);var n=e.answer;W(n)}else C([1,2,3,4,5]),R(0),W(1)}))}),[s]),Object(c.useEffect)((function(){console.log(k[s]),s&&(k[s]?_(k[s]):y.ref("questions/question".concat(s,".jpg")).getDownloadURL().then((function(e){console.log(e),k[s]=e,_(e)})))}),[s]);return v&&(P=v.map((function(e,t){return Object(b.jsx)(m.a.Radio,{label:e,value:t,checked:B===t,onChange:J})}))),h&&(M=h.map((function(e,t){return Object(b.jsx)("div",{onClick:function(){return function(e){s!==e&&(o(e),_(null))}(e)},className:"ui ".concat(e===s?"active":""," button"),children:"Q".concat(t+1)})}))),0===h.length?Object(b.jsx)(p,{text:"\ubb38\uc81c \uc0dd\uc131\uc911"}):Object(b.jsxs)(d.a,{textAlign:"center",children:[A?null:Object(b.jsx)(p,{text:"\ubb38\uc81c \ub85c\ub529\uc911"}),Object(b.jsx)(j.a.Row,{children:M}),A?Object(b.jsx)("img",{width:"100%",src:A,alt:"why not working?"}):"",Object(b.jsxs)(d.a,{style:{paddingTop:"3vh"},children:[Object(b.jsx)(m.a,{children:Object(b.jsx)(m.a.Group,{widths:"equal",children:P})}),Object(b.jsx)(w.a,{style:{marginTop:"3vh"},onClick:function(){var e=B==T-1?"O":"X";i.ref("game_list/bronze/"+t+"/scoring/"+n+"/"+s).get().then((function(c){var a=c.val()?c.val():"";a.includes("O")||i.ref("game_list/bronze/"+t+"/scoring/"+n+"/"+s).set(a+e)})),"O"===e&&i.ref("user_interaction/"+n).get().then((function(e){var t=e.val();console.log(t),t?(console.log(t),t.includes(s)||t.push(s),i.ref("user_interaction/"+n).set(t)):i.ref("user_interaction/"+n).set({0:s})}))},children:"\uc81c\ucd9c"})]})]})},I=function(e){var t=e.uid,n=e.db,i=e.gid,a=Object(c.useState)(null),r=Object(u.a)(a,2),s=r[0],o=r[1],l=Object(c.useState)("0"),j=Object(u.a)(l,2),f=j[0],h=j[1],O=Object(c.useState)("0"),x=Object(u.a)(O,2),g=x[0],v=x[1];return Object(c.useEffect)((function(){var e=n.ref("game_list/bronze/"+i+"/startTime/"+t),c=e.on("value",(function(e){!s&&e.val()&&o(e.val())}));return function(){e.off("value",c)}}),[i,t]),Object(c.useEffect)((function(){if(f<0||0===f&&0===g)return console.log("here"),v(0),h(0),void n.ref("game_list/bronze/"+i+"/isOver").set(!0);if(s){var e=Date.now(),t=2400-Math.round((e-s)/1e3),c=Math.floor(t/60),a=t-60*c,r=setInterval((function(){v(a),h(c)}),1e3);return function(){return clearInterval(r)}}}),[s,f,g]),Object(b.jsx)(d.a,{textAlign:"center",inverted:!0,color:"blue",children:Object(b.jsxs)("h1",{children:[f,":",g<10?"0".concat(g):g]})})},S=(n(152),function(){return O.a.apps.length?O.a.app():O.a.initializeApp({apiKey:"AIzaSyC3qyHC3nf9BwIJfB8BqWDLPuJZ7bcKWnw",authDomain:"mvp-db-ecbe5.firebaseapp.com",databaseURL:"https://mvp-db-ecbe5-default-rtdb.firebaseio.com",projectId:"mvp-db-ecbe5",storageBucket:"mvp-db-ecbe5.appspot.com",messagingSenderId:"57354889627",appId:"1:57354889627:web:1fb6de97d88dcfeca9d93e",measurementId:"G-FVJJG0261W"}),O.a.database()}),A=function(e){var t,n,c=e.db,i=e.uid,a=e.result;e.userInfo;return"W"===a?(t="blue",n="You Win!!!"):(t="red",n="You lose..."),Object(b.jsxs)(j.a,{textAlign:"center",children:[Object(b.jsx)(j.a.Row,{style:{marginTop:"30vh",marginBottom:"15vh",height:"30vh",width:"50vw"},children:Object(b.jsx)(d.a,{size:"massive",inverted:!0,color:t,style:{width:"50vw"},textAlign:"center",children:Object(b.jsx)("h1",{style:{marginTop:"6vh"},children:n})})}),Object(b.jsx)(w.a,{onClick:function(){c.ref("user_info/"+i+"/status").set("isWaiting"),c.ref("matching_info/bronze/"+i).set(null),c.ref("user_info/"+i+"/game_id").set(null)},children:"\ub3cc\uc544\uac00\uae30"})]})},_=S(),L=function(e){var t=e.uid,n=e.oid,i=e.gid,a=e.userInfo,r=e.opponentInfo,s=Object(c.useState)("unchecked"),o=Object(u.a)(s,2),l=o[0],d=o[1],f=Object(c.useState)(),O=Object(u.a)(f,2),x=O[0],g=O[1],v=Object(c.useState)("unchecked"),m=Object(u.a)(v,2),w=m[0],y=m[1],k=function(e){"unchecked"===w||w||(_.ref("user_info/"+t).get().then((function(n){var c=n.val(),i=c.current,a=c.rank;1==i[e]?(_.ref("user_info/"+t+"/current").set({win:0,lose:0}),"win"===e?_.ref("user_info/"+t+"/rank").set(Math.min(a+1,3)):"lose"===e&&_.ref("user_info/"+t+"/rank").set(Math.max(a-1,1))):_.ref("user_info/"+t+"/current/"+e).set(1)})),_.ref("user_info/"+t+"/total/"+e).get().then((function(n){_.ref("user_info/"+t+"/total/"+e).set(n.val()+1)})))};return Object(c.useEffect)((function(){var e=_.ref("game_list/bronze/"+i+"/isOver"),t=e.on("value",(function(e){d(!!e.val())}));return function(){e.off("value",t)}}),[]),Object(c.useEffect)((function(){var e=_.ref("game_list/NaN"+i+"/resultDone/"+t),n=e.on("value",(function(e){y(e.val())}));return function(){e.off("value",n)}}),[]),Object(c.useEffect)((function(){console.log(l,w),"unchecked"!==l&&l&&_.ref("game_list/bronze/"+i+"/score").get().then((function(e){var c=e.val(),i=c[t].total,a=c[n].total;i==a?(console.log(t,n),c[t].timeAt<c[n].timeAt?(g("W"),k("win")):(g("L"),k("lose"))):i>a?(g("W"),k("win")):(g("L"),k("lose"))})).then((function(){_.ref("game_list/bronze/"+i+"/resultDone/"+t).set(!0)}))}),[l,w]),console.log(l),"unchecked"===l?Object(b.jsx)(p,{text:"\ub85c\ub529 \uc911..."}):l?x?Object(b.jsx)(A,{uid:t,db:_,result:x,userInfo:a}):Object(b.jsx)(p,{text:"\uacb0\uacfc \uacc4\uc0b0 \uc911..."}):Object(b.jsx)(j.a,{centered:!0,children:Object(b.jsxs)(j.a.Row,{style:{marginTop:"3vh"},children:[Object(b.jsx)(j.a.Column,{width:4,children:Object(b.jsx)(h,{userInfo:a,gid:i,db:_,uid:t})}),Object(b.jsxs)(j.a.Column,{width:6,children:[Object(b.jsx)(I,{db:_,gid:i,uid:t}),Object(b.jsx)(C,{gid:i,uid:t,db:_})]}),Object(b.jsx)(j.a.Column,{width:4,children:Object(b.jsx)(h,{userInfo:r,gid:i,db:_,uid:n})})]})})},z=(n(155),function(){return O.a.apps.length?O.a.app():O.a.initializeApp({apiKey:"AIzaSyC3qyHC3nf9BwIJfB8BqWDLPuJZ7bcKWnw",authDomain:"mvp-db-ecbe5.firebaseapp.com",databaseURL:"https://mvp-db-ecbe5-default-rtdb.firebaseio.com",projectId:"mvp-db-ecbe5",storageBucket:"mvp-db-ecbe5.appspot.com",messagingSenderId:"57354889627",appId:"1:57354889627:web:1fb6de97d88dcfeca9d93e",measurementId:"G-FVJJG0261W"}),O.a.auth()}),T=n(181),W=n(176),E=function(e){var t=e.onLogin,n=e.onSignUpLoad,c=e.children;return Object(b.jsx)(j.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(b.jsxs)(j.a.Column,{style:{maxWidth:450},children:[Object(b.jsx)(T.a,{as:"h2",color:"blue",textAlign:"center",children:"Log-in to your account"}),Object(b.jsx)(m.a,{size:"large",children:Object(b.jsxs)(d.a,{stacked:!0,children:[Object(b.jsx)(m.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address"}),Object(b.jsx)(m.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password"}),Object(b.jsx)(w.a,{color:"blue",fluid:!0,size:"large",onClick:t,children:"Login"})]})}),Object(b.jsxs)(W.a,{children:["New to us? ",Object(b.jsx)("a",{style:{cursor:"pointer"},onClick:n,children:"Sign Up"})]}),c]})})},q=[1,2,3,4,5,6,7,8,9].map((function(e){return{key:e,text:e,value:e}})),B=[1,2,3].map((function(e){return{key:e,text:e,value:e}})),R=function(e){var t=e.onSignUp,n=e.onLoginLoad,c=e.children;return Object(b.jsx)(j.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(b.jsxs)(j.a.Column,{style:{maxWidth:450},children:[Object(b.jsx)(T.a,{as:"h2",color:"blue",textAlign:"center",children:"Sign Up with email"}),Object(b.jsx)(m.a,{size:"large",children:Object(b.jsxs)(d.a,{textAlign:"left",stacked:!0,children:[Object(b.jsx)(m.a.Input,{fluid:!0,label:"\uc774\uba54\uc77c",placeholder:"E-mail address"}),Object(b.jsx)(m.a.Input,{fluid:!0,label:"\ube44\ubc00\ubc88\ud638",placeholder:"Password",type:"password"}),Object(b.jsxs)(m.a.Group,{widths:"equal",children:[Object(b.jsx)(m.a.Input,{label:"\uc774\ub984",fluid:!0,placeholder:"\ud64d\uae38\ub3d9"}),Object(b.jsx)(m.a.Input,{label:"\ub2c9\ub124\uc784",fluid:!0,placeholder:"\uc218\ud559\ub300\uc7a5"})]}),Object(b.jsx)(m.a.Input,{label:"\ud559\uad50",fluid:!0,placeholder:"\ud718\ubb38\uace0\ub4f1\ud559\uad50"}),Object(b.jsxs)(m.a.Group,{widths:"equal",children:[Object(b.jsx)(m.a.Select,{fluid:!0,label:"\ud559\ub144",options:B}),Object(b.jsx)(m.a.Select,{fluid:!0,label:"\ubaa8\uc758\uace0\uc0ac \ub4f1\uae09",options:q})]}),Object(b.jsx)(w.a,{color:"blue",fluid:!0,size:"large",onClick:t,children:"Sign Up"})]})}),Object(b.jsxs)(W.a,{children:["Have an account? ",Object(b.jsx)("a",{style:{cursor:"pointer"},onClick:n,children:"Login"})]}),c]})})},M=n(171),P=n(78),J=n(123),U=n(124),D=n(127),G=n(125),H=n(174),F=function(e){Object(D.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(J.a)(this,n);for(var c=arguments.length,i=new Array(c),a=0;a<c;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={activeIndex:null,isActive:!1},e.onClick=function(){e.setState({isActive:!e.state.isActive})},e.handleClick=function(t,n){var c=n.index,i=e.state.activeIndex===c?-1:c;e.setState({activeIndex:i})},e}return Object(U.a)(n,[{key:"render",value:function(){var e=this.state,t=e.activeIndex,n=e.isActive;return Object(b.jsxs)(H.a,{children:[Object(b.jsx)(H.a.Title,{active:n,onClick:this.onClick,children:Object(b.jsxs)("h3",{children:[Object(b.jsx)(P.a,{name:"dropdown"}),"Rules"]})}),Object(b.jsx)(H.a.Content,{active:n,style:{paddingTop:"0vw"},children:Object(b.jsxs)(H.a,{style:{marginLeft:"3vw"},children:[Object(b.jsx)(H.a.Title,{active:0===t,index:0,onClick:this.handleClick,children:Object(b.jsxs)("h4",{children:[Object(b.jsx)(P.a,{name:"dropdown"}),"What is a dog?"]})}),Object(b.jsx)(H.a.Content,{active:0===t,children:Object(b.jsx)("p",{children:"A dog is a type of domesticated animal. Known for its loyalty and faithfulness, it can be found as a welcome guest in many households across the world."})}),Object(b.jsx)(H.a.Title,{active:1===t,index:1,onClick:this.handleClick,children:Object(b.jsxs)("h4",{children:[Object(b.jsx)(P.a,{name:"dropdown"}),"What kinds of dogs are there?"]})}),Object(b.jsx)(H.a.Content,{active:1===t,children:Object(b.jsx)("p",{children:"There are many breeds of dogs. Each breed varies in size and temperament. Owners often select a breed of dog that they find to be compatible with their own lifestyle and desires from a companion."})}),Object(b.jsx)(H.a.Title,{active:2===t,index:2,onClick:this.handleClick,children:Object(b.jsxs)("h4",{children:[Object(b.jsx)(P.a,{name:"dropdown"}),"How do you acquire a dog?"]})}),Object(b.jsxs)(H.a.Content,{active:2===t,children:[Object(b.jsx)("p",{children:"Three common ways for a prospective owner to acquire a dog is from pet shops, private owners, or shelters."}),Object(b.jsx)("p",{children:"A pet shop may be the most convenient way to buy a dog. Buying a dog from a private owner allows you to assess the pedigree and upbringing of your dog before choosing to take it home. Lastly, finding your dog from a shelter, helps give a good home to a dog who may not find one so readily."})]})]})})]})}}]),n}(c.Component),K=n(172),N=function(e){var t=e.children,n=e.onClick,a=e.text,r=e.userInfo,s=Object(c.useState)(!1),o=Object(u.a)(s,2),l=o[0],f=o[1];console.log(r);var h=function(e){f(!!e)},O=Object(b.jsx)(d.a,{onClick:n,style:{marginTop:"10vh"},inverted:!0,color:"blue",textAlign:"center",size:"large",onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},children:Object(b.jsx)("h2",{children:a})});return l&&(O=i.a.cloneElement(O,{secondary:!0})),Object(b.jsxs)(d.a,{raised:!0,children:[Object(b.jsx)(d.a,{color:"blue",textAlign:"center",size:"large",children:t}),Object(b.jsxs)(M.a,{style:{marginTop:"7vh"},children:[Object(b.jsxs)(j.a,{columns:2,textAlign:"center",children:[Object(b.jsxs)(j.a.Column,{style:{maxWidth:400},children:[Object(b.jsx)("h4",{children:"\ud604\uc7ac"}),Object(b.jsx)(K.a,{}),Object(b.jsx)(M.a,{children:Object(b.jsx)("h3",{children:"".concat(r.current.win,"\uc2b9 ").concat(r.current.lose,"\ud328")})})]}),Object(b.jsxs)(j.a.Column,{style:{maxWidth:400},children:[Object(b.jsx)("h4",{children:"\uc804\uccb4"}),Object(b.jsx)(K.a,{}),Object(b.jsx)(M.a,{children:Object(b.jsx)("h3",{children:"".concat(r.total.win,"\uc2b9 ").concat(r.total.lose,"\ud328")})})]})]}),O]})]})},V=S(),Y={1:"bronze",2:"silver",3:"gold"},Z=function(e){var t=e.onLogout,n=e.uid,c=e.userInfo;return console.log(c,n),Object(b.jsx)("div",{children:Object(b.jsxs)(j.a,{textAlign:"center",verticalAlign:"middle",children:[Object(b.jsx)(j.a.Row,{children:Object(b.jsxs)(M.a,{fluid:!0,textAlign:"right",style:{marginTop:"1vh",marginBottom:"5vh"},children:["\uc548\ub155\ud558\uc138\uc694 ".concat(c.name," \ub2d8"),Object(b.jsx)(w.a,{style:{marginLeft:"1vw",marginRight:"2vw"},onClick:t,children:"Logout"})]})}),Object(b.jsx)(j.a.Row,{children:Object(b.jsxs)(j.a.Column,{style:{maxWidth:600},children:[Object(b.jsxs)(N,{onClick:function(){V.ref("user_info/"+n+"/status").set("isMatching"),V.ref("matching_info/bronze/"+n).set("placeholder")},text:"PLAY",userInfo:c,children:[Object(b.jsx)(P.a,{name:"trophy"}),Object(b.jsxs)("h2",{style:{display:"inline-block",marginTop:"1.5vh",marginBottom:"1vh"},children:[" ","\ud604\uc7ac \ub4f1\uae09: ".concat(Y[c.rank])]})]}),Object(b.jsx)(d.a,{raised:!0,textAlign:"left",children:Object(b.jsx)(F,{})})]})})]})})},Q=S(),X=function(e){var t=e.uid,n=e.gid,i=e.userInfo,a=e.opponentInfo,r=Object(c.useState)(!1),s=Object(u.a)(r,2),o=s[0],l=s[1],d=Object(c.useState)(!1),f=Object(u.a)(d,2),h=f[0],O=f[1],x=Object(c.useState)(15),g=Object(u.a)(x,2),v=g[0],p=g[1];Object(c.useEffect)((function(){o&&h&&(Q.ref("user_info/"+t+"/status").set("isPlaying"),Q.ref("game_list/bronze/"+n+"/startTime/"+t).set(Date.now()))}),[o,h,t,n]),Object(c.useEffect)((function(){setTimeout((function(){m()}),15e3)}),[]),Object(c.useEffect)((function(){setTimeout((function(){p(v-1)}),1e3)}),[v]),Object(c.useEffect)((function(){var e=Q.ref("game_list/bronze/"+n+"/ready"),c=e.on("value",(function(e){var n=e.val();n&&Object.entries(n).forEach((function(e){e[0]!==t&&(h||O(!0))}))}));return function(){e.off("value",c)}}),[n,t]);var m=function(){Q.ref("game_list/bronze/"+n+"/ready/"+t).set(!0),l(!0)};return Object(b.jsxs)(j.a,{columns:3,style:{height:"100vh",maxWidth:2e3,marginTop:"10vh"},textAlign:"center",verticalAlign:"middle",children:[Object(b.jsx)(j.a.Column,{children:Object(b.jsx)(N,{text:o?"\uc900\ube44\uc644\ub8cc":n?"\uc900\ube44\ub418\uba74 \ud074\ub9ad":"",onClick:m,userInfo:i,children:Object(b.jsx)("h1",{children:i.nick_name})})}),Object(b.jsx)(j.a.Column,{width:1,children:Object(b.jsx)("h1",{children:"vs"})}),Object(b.jsx)(j.a.Column,{children:Object(b.jsx)(N,{text:h?"\uc900\ube44\uc644\ub8cc":"Wating...",userInfo:a,children:Object(b.jsx)("h1",{children:a.nick_name})})}),Object(b.jsx)(j.a.Row,{style:{marginTop:"0vh",marginBotton:"0vh"},children:Object(b.jsxs)("h2",{children:[v,"\ucd08 \ud6c4\uc5d0 \uc2dc\uc791\ud569\ub2c8\ub2e4."]})})]})},$=function(e){var t=e.errorMessage,n=Object(c.useState)(t),i=Object(u.a)(n,2),a=i[0],r=i[1];return Object(c.useEffect)((function(){a||r(t)}),[t]),Object(b.jsx)(W.a,{color:"red",children:Object(b.jsx)(W.a.Header,{id:"message",children:a})})},ee=z(),te=S(),ne=function(){var e=Object(c.useState)("unChecked"),t=Object(u.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)(null),r=Object(u.a)(a,2),s=r[0],d=r[1],f=Object(c.useState)(null),h=Object(u.a)(f,2),O=h[0],x=h[1],g=Object(c.useState)(null),v=Object(u.a)(g,2),m=v[0],y=v[1],k=Object(c.useState)(null),C=Object(u.a)(k,2),I=C[0],S=C[1],A=Object(c.useState)("rendering"),_=Object(u.a)(A,2),z=_[0],T=_[1],W=Object(c.useState)(null),q=Object(u.a)(W,2),B=q[0],M=q[1],P=te.ref("user_info/"+n),J=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get().then((function(e){if(e.exists()){var t=e.val();return console.log(t),y(t),t}}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=P.child("game_id").get("value").then((function(e){if(e.exists()){var t=e.val();return d(t),t}})),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(o.a.mark((function e(t,c){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),i=te.ref("game_list/bronze/"+c+"/player_object").get().then((function(e){if(e.exists()){var t=e.val();console.log(t),Object.keys(t).map((function(e){if(e!==n&&!I)return S(t[e]),x(e),e}))}})),e.abrupt("return",i);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){M(null)}),[z]),Object(c.useEffect)((function(){if(n){var e=P.child("status").on("value",(function(e){var t=e.val();t!==z&&T(t)}));return function(){P.child("status").off("value",e)}}}),[n]),Object(c.useEffect)((function(){"isWaiting"===z&&(S(null),x(null),d(null),J())}),[z]),Object(c.useEffect)((function(){O?(s||(console.log(s),U()),m||J()):J().then((function(e){e&&U().then((function(t){t&&D(e.rank,t)}))}))}),[z]),ee.onAuthStateChanged((function(e){if(e){var t=e.uid;t!==n&&i(t)}else i(null),"rendering"===z&&T(null)}));var G=function(){te.ref("user_info/"+n+"/status").set("isWaiting").then((function(){ee.signOut()})),T("login")};return console.log(n,s,O,I,z),"rendering"===z||"unChecked"===n?Object(b.jsx)(p,{text:"\ub85c\ub529 \uc911..."}):n?"isWaiting"===z?n&&m?Object(b.jsx)(Z,{onLogout:G,uid:n,userInfo:m}):Object(b.jsx)(p,{text:"\uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\ub294 \uc911..."}):"isMatching"===z?Object(b.jsxs)(j.a,{textAlign:"center",children:[Object(b.jsx)(j.a.Row,{style:{marginTop:"15vh",height:"70vh"},children:Object(b.jsx)(p,{text:"\ub9e4\uce6d \uc911..."})}),Object(b.jsx)(w.a,{onClick:function(){te.ref("user_info/"+n+"/status").set("isWaiting"),te.ref("matching_info/bronze/"+n).set(null),te.ref("user_info/"+n+"/game_id").set(null)},children:" \ucde8\uc18c\ud558\uae30 "})]}):"isMatched"===z?n&&s&&m&&I?Object(b.jsx)(X,{uid:n,gid:s,userInfo:m,opponentInfo:I}):Object(b.jsx)(p,{text:"\uac8c\uc784\uc744 \ubd88\ub7ec\uc624\ub294 \uc911..."}):"isPlaying"===z?n&&s&&O&&m&&I?Object(b.jsx)(L,{uid:n,oid:O,gid:s,userInfo:m,opponentInfo:I}):Object(b.jsx)(p,{text:"\ub85c\ub529 \uc911..."}):Object(b.jsxs)(j.a,{textAlign:"center",children:[Object(b.jsx)(j.a.Row,{style:{marginTop:"15vh",height:"70vh"},children:Object(b.jsx)(p,{text:"\uc7a5\uc2dc\uac04 \uc9c0\uc18d\ub418\uba74 \uc544\ub798 \ubc84\ud2bc\uc744 \ub204\ub974\uc138\uc694."})}),Object(b.jsx)(w.a,{onClick:G,children:" \ucc98\uc74c\uc73c\ub85c "})]}):"signUp"===z?Object(b.jsx)(j.a,{children:Object(b.jsx)(j.a.Column,{children:Object(b.jsx)(R,{onSignUp:function(){var e=document.querySelectorAll("input"),t=Object(u.a)(e,5),n=t[0],c=t[1],i=t[2],a=t[3],r=t[4],s=document.querySelectorAll("div.divider.text"),o=Object(u.a)(s,2),l=o[0],j=o[1];l&&j&&i.value&&a.value&&r.value?ee.createUserWithEmailAndPassword(n.value,c.value).then((function(e){var t=e.user.uid;te.ref("user_info/"+t).set({name:i.value,nick_name:a.value,school:r.value,grade:l.innerHTML,rating:j.innerHTML,rank:1,status:"isWaiting",current:{win:0,lose:0},total:{win:0,lose:0}}).catch((function(e){return console.log(e.message)})),te.ref("user_interaction/"+t).set([0])})).catch((function(e){M(e.message),console.log(e.message)})):M("Please fill in all forms.")},onLoginLoad:function(){T("login")},children:B?Object(b.jsx)($,{errorMessage:B}):null})})}):Object(b.jsx)(j.a,{children:Object(b.jsx)(j.a.Column,{children:Object(b.jsx)(E,{onLogin:function(){var e=document.querySelectorAll("input"),t=Object(u.a)(e,2),n=t[0],c=t[1];ee.signInWithEmailAndPassword(n.value,c.value).then(console.log("Success")).catch((function(e){M(e.message)}))},onSignUpLoad:function(){T("signUp")},children:B?Object(b.jsx)($,{errorMessage:B}):null})})})},ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,182)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))};r.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(ne,{})}),document.getElementById("root")),ce()}},[[157,1,2]]]);
//# sourceMappingURL=main.a82a1fb9.chunk.js.map